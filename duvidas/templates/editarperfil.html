{% extends 'base.html' %}

{% block head %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='perfil.css') }}">
{% endblock %}

{% block body %}
    <div class="container mt-5 pt-5">
        <div class="row">
            <div class="col-5">
                <div class="card p-3 py-4" style="width: 650px; height: 800px; margin-">
                    <img src="{{ foto_perfil }}" width="200" class="rounded-circle ms-5 ps-2">
                    <div class="text-center pt-2">
                        <h3 class="mt-2">{{ current_user.user }}</h3>
                        <div class="row mt-3 mb-3">
                          <div class="col-md-4">
                            <h5>Posts</h5>
                            <span class="num">10</span>
                          </div>
                          <div class="col-md-4">
                          <h5>Projetos</h5>
                            <span class="num">10</span>
                          </div>
                          <div class="col-md-4">
                          <h5>Comentários</h5>
                            <span class="num">10</span>
                          </div>
                        </div>
                        <hr class="line">
                        <h5 class="mt-4 mb-5">{{ current_user.bio }}</h5>
                        <div class="profile mt-5">
                            <a href="{{ url_for('meuperfil') }}"><button class="profile_button px-5 mt-5">Ver Perfil</button></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-2"></div>
            <div class="col-5">
                <div class="card p-3 py-4" style="width: 650px; height: 800px;">
                    <div class="row pt-0">
                        <form method="POST" action="" enctype="multipart/form-data">
                        {{ form_editar_perfil.csrf_token }}
                        <fieldset>
                            <div style="text-align:left;">
                                <div class="row g-3 align-items-center p-1">
                                  <div style="font-size: 20px;" class="row-auto pt-0">
                                    {{ form_editar_perfil.user.label(class="form-control-label") }}
                                  </div>
                                  <div class="row-auto mt-1">
                                      {% if form_editar_perfil.user.errors %}
                                        {{ form_editar_perfil.user(class="form-control is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for erro in form_editar_perfil.user.errors %}
                                                {{ erro }}
                                            {% endfor %}
                                        </div>
                                      {% else %}
                                        {{ form_editar_perfil.user(class="form-control") }}
                                      {% endif %}
                                  </div>
                                  <div class="row-auto mt-0">
                                    <span class="form-text">
                                      Nome de usuário deve ter entre 4-16 caracteres.
                                    </span>
                                  </div>
                                </div>
                                <div class="row g-3 align-items-center p-1">
                                  <div style="font-size: 20px;" class="row-auto pt-2">
                                      {{ form_editar_perfil.email.label(class="form-control-label") }}
                                  </div>
                                  <div class="row-auto mt-1">
                                      {% if form_editar_perfil.email.errors %}
                                        {{ form_editar_perfil.email(class="form-control is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for erro in form_editar_perfil.email.errors %}
                                                {{ erro }}
                                            {% endfor %}
                                        </div>
                                      {% else %}
                                        {{ form_editar_perfil.email(class="form-control") }}
                                      {% endif %}
                                  </div>
                                  <div class="row-auto mt-0">
                                    <span class="form-text">
                                      Digite seu email.
                                    </span>
                                  </div>
                                </div>
                                <div style="font-size: 20px;" class="row g-3 align-items-center p-1">
                                  <div class="row-auto pt-2">
                                    {{ form_editar_perfil.senha.label(class="form-control-label") }}
                                  </div>
                                  <div class="row-auto mt-1">
                                      {% if form_editar_perfil.senha.errors %}
                                        {{ form_editar_perfil.senha(class="form-control is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for erro in form_editar_perfil.senha.errors %}
                                                {{ erro }}
                                            {% endfor %}
                                        </div>
                                      {% else %}
                                        {{ form_editar_perfil.senha(class="form-control") }}
                                      {% endif %}
                                  </div>
                                  <div class="row-auto mt-0">
                                    <span class="form-text" style="font-size: 14px;">
                                      A senha deve ter entre 6-20 caracteres.
                                    </span>
                                  </div>
                                </div>
                                <div class="row g-3 align-items-center p-1">
                                  <div style="font-size: 20px;" class="row-auto pt-2">
                                    {{ form_editar_perfil.conf_senha.label(class="form-control-label") }}
                                  </div>
                                  <div class="row-auto mt-1">
                                      {% if form_editar_perfil.conf_senha.errors %}
                                        {{ form_editar_perfil.conf_senha(class="form-control is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for erro in form_editar_perfil.conf_senha.errors %}
                                                {{ erro }}
                                            {% endfor %}
                                        </div>
                                      {% else %}
                                        {{ form_editar_perfil.conf_senha(class="form-control") }}
                                      {% endif %}
                                  </div>
                                  <div class="row-auto mt-0 mb-1">
                                    <span class="form-text">
                                      A senha de confirmação deve ser igual à senha acima.
                                    </span>
                                  </div>
                                  <div style="font-size: 20px;" class="row-auto pt-0">
                                    {{ form_editar_perfil.bio.label(class="form-control-label") }}
                                  </div>
                                    {% if form_editar_perfil.bio.errors %}
                                        {{ form_editar_perfil.bio(class="form-control is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for erro in form_editar_perfil.bio.errors %}
                                                {{ erro }}
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form_editar_perfil.bio(class="form-control m-1") }}
                                    {% endif %}
                                <div class="container d-flex justify-content-center" style="height: 80px; padding-top: 10px;">
                                    {{ form_editar_perfil.btn_submit_editar(class="profile_button", style="font-size: 17px; margin-top: 20px; width: 150px; height: 45px;") }}
                                </div>
                            </div>
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
{% endblock %}
